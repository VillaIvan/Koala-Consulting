<div
  class="feature-diagram grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto p-4"
>
  {
    [
      {
        title: "00. Proceso Completo",
        description: "Proceso iterativo de mejora continua",
      },
      {
        title: "01. Relevamiento",
        description:
          "Obtenemos informaci칩n, mediante la explotaci칩n de datos y el relevamiento de procesos.",
      },
      {
        title: "02. Analisis",
        description:
          "Detectamos oportunidades de mejora y evaluamos el impacto.",
      },
      {
        title: "03. Dise침o",
        description: "Proponemos alternativas y alineamos con el cliente.",
      },
      {
        title: "04. Implementaci칩n",
        description: "Desarrollamos e implementamos soluciones.",
      },
      {
        title: "05. Seguimiento",
        description:
          "Monitoreamos indicadores claves y evaluamos el impacto de las mejoras.",
      },
    ].map((feature, index) => (
      <div class="feature" data-index={index}>
        <div class="p-8 rounded-xl bg-white shadow-xl h-full w-full flex flex-col items-center transition-all duration-300 ease-in-out cursor-pointer pt-20">
          <h3 class="text-2xl font-semibold mb-4 text-center transition-all duration-300 ease-in-out">
            {feature.title}
          </h3>
          <p class="text-sm text-gray-600 opacity-0 text-center flex items-center justify-center transition-all duration-300 ease-in-out flex-grow">
            {feature.description}
          </p>
        </div>
      </div>
    ))
  }
</div>

<script>
  const features = document.querySelectorAll(".feature");

  features.forEach((feature) => {
    const container = feature.querySelector("div");
    const title = feature.querySelector("h3");
    const description = feature.querySelector("p");

    if (container && title && description) {
      let isActive = false;

      const activate = () => {
        isActive = true;
        container.classList.remove("justify-center");
        title.classList.add("text-xl", "-translate-y-2", "mb-2");
        title.classList.remove("text-2xl", "mb-4");
        description.classList.remove("opacity-0");
        description.classList.add("flex-grow");
      };

      const deactivate = () => {
        isActive = false;
        container.classList.add("justify-center");
        title.classList.remove("text-xl", "-translate-y-2", "mb-2");
        title.classList.add("text-2xl", "mb-4");
        description.classList.add("opacity-0");
        description.classList.remove("flex-grow");
      };

      container.addEventListener("click", () => {
        if (isActive) {
          deactivate();
        } else {
          features.forEach((otherFeature) => {
            if (otherFeature !== feature) {
              const otherContainer = otherFeature.querySelector("div");
              const otherTitle = otherFeature.querySelector("h3");
              const otherDescription = otherFeature.querySelector("p");
              otherContainer?.classList.add("justify-center");
              otherTitle?.classList.remove("text-xl", "-translate-y-2", "mb-2");
              otherTitle?.classList.add("text-2xl", "mb-4");
              otherDescription?.classList.add("opacity-0");
              otherDescription?.classList.remove("flex-grow");
            }
          });
          activate();
        }
      });
    }
  });
</script>

<style>
  .feature-diagram {
    display: grid;
    gap: 1.5rem;
  }

  .feature {
    height: 100%;
  }

  .feature > div {
    height: 100%;
    min-height: 200px;
  }

  @media (min-width: 640px) {
    .feature-diagram {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .feature-diagram {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>
